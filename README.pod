РАСЧЕТ ЦЕНТРАЛЬНОСТЕЙ ГРАФА

Параллельная версия: bulat.gmres.mpi.f90

Последовательная версия: bulat.gmres.f90

Сборка: make для последовательной, make bulat.gmres.mpi для параллельной.
make go собирает и запускает. См. переменные makefile - в частности, NCPUS
задает число процессоров.

Исходные данные: описание графа в трехколоночном формате: метки вершин и вес ребра.
Вес числовой, метки - числа или слова (без пробелов).

Входные данные: матрица в упакованном формате. Это файл с тремя строками:
ненулевые элементы разреженной матрицы, причем диагональные элементы должны
присутствовать (даже если нули); номера столбцов этих элементов; номер (в списке)
первого элемента каждой строки плюс один фиктивный элемент (так что разность n+1-го
и n-го чисел есть число ненулевых элементов в строке).

Трехколоночный формат преобразуется в упакованный утилитой 3col2pack.pl
Она берет на вход имя файла и выводит на STDOUT три строки, 
а на STDERR - размер матрицы и число ненулевых элементов.

ПАРАМЕТРЫ

Параметры расчета задаются в файле gmres.nml
Namelists - это технология считывания значений переменных из файла особой структуры.
В файле должна быть запись такого вида:

&SIZES             !Имя списка параметров, не трогать если не знаешь что делаешь. Это имя используется в коде.
 n= 60967,         !размер матрицы, число уравнений
 nonzero= 298971,  !число ненулевых элементов матрицы или верхнего треугольника. ВАЖНО: диагональные элементы надо включать даже если они нули!
 delta = 1.,       !параметр дельта, начнем с 1: матрица D - W + delta I где W дана, диагональ D содержит строковые суммы W, дельта - число.
 krylov = 7,       !для GMRES
 epsss = 1.d-12,    !для GMRES, точность
 lfil = 30,        !для GMRES
 iwk = 7,          !для предобуславливателя. размер вспомогат.массивов равен iwk*nonzero
 droptol = 1.d-3,  !для GMRES 
 verbose = .false.,  !печатать комментарии по ходу дела?
 maxiter = 1000,    !для GMRES 
 fvcr = 'mathnet.dat',     !файл с ненулевыми и диагональными элементами матрицы (массив), индексы столбцов каждого и номера первого элемента каждой строки; три строки, пробелы разделыют, n элементов в первой и второй строках.
 fres = 'res.mathnet.dat',!файл, куда записать результат
 fgraph = 'Edges_mathnet.dat',!файл, откуда брать метки вершин графа (для выдачи ответа в удобной форме)
/                  !конец списка параметров, должен быть тут



